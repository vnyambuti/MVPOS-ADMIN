{"version":3,"sources":["../../node_modules/tslib/tslib.es6.js","../../src/app/components/ionic-selectable/ionic-selectable-add-item-template.directive.ts","../../src/app/components/ionic-selectable/ionic-selectable-close-button-template.directive.ts","../../src/app/components/ionic-selectable/ionic-selectable-footer-template.directive.ts","../../src/app/components/ionic-selectable/ionic-selectable-group-end-template.directive.ts","../../src/app/components/ionic-selectable/ionic-selectable-group-template.directive.ts","../../src/app/components/ionic-selectable/ionic-selectable-header-template.directive.ts","../../src/app/components/ionic-selectable/ionic-selectable-item-end-template.directive.ts","../../src/app/components/ionic-selectable/ionic-selectable-item-icon-template.directive.ts","../../src/app/components/ionic-selectable/ionic-selectable-item-template.directive.ts","../../src/app/components/ionic-selectable/ionic-selectable-message-template.directive.ts","../../src/app/components/ionic-selectable/ionic-selectable-modal.component.ts","../../src/app/components/ionic-selectable/ionic-selectable-placeholder-template.directive.ts","../../src/app/components/ionic-selectable/ionic-selectable-search-fail-template.directive.ts","../../src/app/components/ionic-selectable/ionic-selectable-title-template.directive.ts","../../src/app/components/ionic-selectable/ionic-selectable-value-template.directive.ts","../../src/app/components/ionic-selectable/ionic-selectable-icon-template.directive.ts","../../src/app/components/ionic-selectable/ionic-selectable.component.ts","../../src/app/components/ionic-selectable/ionic-selectable.module.ts"],"names":["Object","create","__read","o","n","m","Symbol","iterator","r","e","i","call","ar","next","done","push","value","error","__spread","arguments","length","concat","Directive","args","selector","IonicSelectableModalComponent","navParams","_element","_this","this","_cssClass","selectComponent","get","_modalComponent","_selectedItems","_isNullOrWhiteSpace","isMultiple","forEach","item","_setItemsToConfirm","defineProperty","prototype","canClear","_isSearching","_isIos","_isMD","_isAddItemTemplateVisible","onResize","_positionAddItemTemplate","ngAfterViewInit","_header","nativeElement","querySelector","_searchbarComponent","shouldFocusSearchbar","setTimeout","setFocus","Component","template","NavParams","ElementRef","ViewChild","IonContent","IonInfiniteScroll","HostBinding","HostListener","IonicSelectableComponent","_modalController","_platform","ionItem","_iterableDiffers","_renderer","_isOnSearchEnabled","_isEnabled","_shouldBackdropClose","_isOpened","_value","_canClear","_hasConfirmButton","_isMultiple","_canAddItem","onItemsChange","EventEmitter","_hasIonLabel","_ionLabelPosition","_label","_valueItems","_searchText","_hasSearchText","_groups","_itemsToConfirm","_filteredGroups","_isFooterVisible","_itemToAdd","_footerButtonsCount","_hasFilteredItems","items","itemsChange","modalCssClass","modalEnterAnimation","modalLeaveAnimation","isConfirmButtonEnabled","itemValueField","itemTextField","groupValueField","groupTextField","canSearch","hasInfiniteScroll","hasVirtualScroll","virtualScrollApproxItemHeight","searchPlaceholder","placeholder","searchFailText","clearButtonText","addButtonText","confirmButtonText","closeButtonText","headerColor","groupColor","closeButtonSlot","itemIconSlot","onChange","onSearch","onSearchFail","onSearchSuccess","onInfiniteScroll","onOpen","onClose","onSelect","onClear","searchDebounce","disabledItems","shouldStoreItemValue","canSaveItem","canDeleteItem","onSaveItem","onDeleteItem","onAddItem","virtualScrollHeaderFn","propagateOnChange","_","propagateOnTouched","_itemsDiffer","find","hasValue","_hasPlaceholder","isEnabled","_infiniteScroll","_hasObjects","searchText","_setHasSearchText","splice","Array","apply","_setIonItemHasValue","_setHasPlaceholder","enableIonItem","shouldBackdropClose","hasConfirmButton","_countFooterButtons","isOnSearchEnabled","canAddItem","initFocus","disabled","toString","replace","_hasOnSearch","observers","_hasOnSaveItem","_hasOnAddItem","_hasOnDeleteItem","_emitValueChange","emit","component","_emitSearch","text","_emitOnSelect","isSelected","_emitOnClear","_emitOnSearchSuccessOrFail","isSuccess","eventData","_formatItem","_formatValueItem","_shouldStoreItemValue","selectedItem","_item","_getItemValue","_getStoredItemValue","_onSearchbarClear","_filterItems","groups_1","trim","filterText_1","toLowerCase","group","filter","indexOf","_areGroupsEmpty","_isItemDisabled","some","_isItemSelected","undefined","_addSelectedItem","_deleteSelectedItem","itemToDeleteIndex","itemIndex","_click","_getLabelText","open","then","_saveItem","event","stopPropagation","showAddItemTemplate","_deleteItemClick","deleteItem","_addItemClick","footer","_addItemTemplateFooterHeight","offsetHeight","_close","close","_clear","selectedItems","clear","_getMoreItems","_doSelect","_select","isItemSelected","footerTemplate","_confirm","confirm","_ionLabelElement","textContent","groups","every","footerButtonsCount","_setItems","_hasGroups","groupValue","_getPropertyValue","_group","object","property","split","reduce","_object","_property","_setIonItemHasFocus","hasFocus","_setIonItemCssClass","placeholderTemplate","cssClass","shouldAdd","_ionItemElement","addClass","removeClass","_toggleAddItemTemplate","isVisible","addItemTemplate","writeValue","registerOnChange","method","registerOnTouched","setDisabledState","isDisabled","ngOnInit","is","Boolean","closest","getAttribute","ngDoCheck","diff","addItem","self","unshift","_addItemObservable","unsubscribe","Promise","resolve","reject","asObservable","subscribe","hasValueChanged","values","id","_deleteItemObservable","modalOptions","componentProps","backdropDismiss","enterAnimation","leaveAnimation","modal","_modal","present","onWillDismiss","onDidDismiss","role","dismiss","hideAddItemTemplate","toggleItems","isSelect","hasItems","itemsToToggle","allItems","itemToToggle","scrollToTop","_content","scrollToBottom","startSearch","showLoading","endSearch","hideLoading","enableInfiniteScroll","_hasInfiniteScroll","disableInfiniteScroll","endInfiniteScroll","complete","search","encapsulation","ViewEncapsulation","None","providers","provide","NG_VALUE_ACCESSOR","useExisting","forwardRef","multi","ModalController","Platform","IonItem","decorators","type","Optional","IterableDiffers","Renderer2","Input","Output","ContentChild","IonicSelectableValueTemplateDirective","read","TemplateRef","IonicSelectableItemTemplateDirective","IonicSelectableItemEndTemplateDirective","IonicSelectableTitleTemplateDirective","IonicSelectablePlaceholderTemplateDirective","IonicSelectableMessageTemplateDirective","IonicSelectableGroupTemplateDirective","IonicSelectableGroupEndTemplateDirective","IonicSelectableCloseButtonTemplateDirective","IonicSelectableSearchFailTemplateDirective","IonicSelectableAddItemTemplateDirective","IonicSelectableFooterTemplateDirective","IonicSelectableHeaderTemplateDirective","IonicSelectableItemIconTemplateDirective","IonicSelectableIconTemplateDirective","components","directives","NgModule","imports","CommonModule","FormsModule","IonicModule","declarations","exports","entryComponents"],"mappings":"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","sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from) {\r\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\r\n        to[j] = from[i];\r\n    return to;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","import { Directive } from '@angular/core';\n\n@Directive({\n  selector: '[ionicSelectableAddItemTemplate]',\n})\nexport class IonicSelectableAddItemTemplateDirective { }\n","import { Directive } from '@angular/core';\n\n@Directive({\n  selector: '[ionicSelectableCloseButtonTemplate]',\n})\nexport class IonicSelectableCloseButtonTemplateDirective { }\n","import { Directive } from '@angular/core';\n\n@Directive({\n  selector: '[ionicSelectableFooterTemplate]',\n})\nexport class IonicSelectableFooterTemplateDirective { }\n","import { Directive } from '@angular/core';\n\n@Directive({\n  selector: '[ionicSelectableGroupEndTemplate]',\n})\nexport class IonicSelectableGroupEndTemplateDirective { }\n","import { Directive } from '@angular/core';\n\n@Directive({\n  selector: '[ionicSelectableGroupTemplate]',\n})\nexport class IonicSelectableGroupTemplateDirective { }\n","import { Directive } from '@angular/core';\n\n@Directive({\n  selector: '[ionicSelectableHeaderTemplate]',\n})\nexport class IonicSelectableHeaderTemplateDirective { }\n","import { Directive } from '@angular/core';\n\n@Directive({\n  selector: '[ionicSelectableItemEndTemplate]',\n})\nexport class IonicSelectableItemEndTemplateDirective { }\n","import { Directive } from '@angular/core';\n\n@Directive({\n  selector: '[ionicSelectableItemIconTemplate]'\n})\nexport class IonicSelectableItemIconTemplateDirective { }\n","import { Directive } from '@angular/core';\n\n@Directive({\n  selector: '[ionicSelectableItemTemplate]'\n})\nexport class IonicSelectableItemTemplateDirective { }\n","import { Directive } from '@angular/core';\n\n@Directive({\n  selector: '[ionicSelectableMessageTemplate]',\n})\nexport class IonicSelectableMessageTemplateDirective { }\n","import { AfterViewInit, Component, ElementRef, HostBinding, HostListener, ViewChild } from '@angular/core';\nimport { IonContent, IonInfiniteScroll, IonSearchbar, NavParams } from '@ionic/angular';\nimport { IonicSelectableComponent } from './ionic-selectable.component';\n\n@Component({\n  selector: 'ionic-selectable-modal',\n  templateUrl: './ionic-selectable-modal.component.html'\n})\nexport class IonicSelectableModalComponent implements AfterViewInit {\n  @ViewChild(IonContent)\n  _content: IonContent;\n  _header: HTMLElement;\n  selectComponent: IonicSelectableComponent;\n  @ViewChild('searchbarComponent')\n  _searchbarComponent: IonSearchbar;\n  @ViewChild(IonInfiniteScroll)\n  _infiniteScroll: IonInfiniteScroll;\n  @HostBinding('class.ionic-selectable-modal')\n  _cssClass = true;\n  @HostBinding('class.ionic-selectable-modal-can-clear')\n  get _canClearCssClass(): boolean {\n    return this.selectComponent.canClear;\n  }\n  @HostBinding('class.ionic-selectable-modal-is-multiple')\n  get _isMultipleCssClass(): boolean {\n    return this.selectComponent.isMultiple;\n  }\n  @HostBinding('class.ionic-selectable-modal-is-searching')\n  get _isSearchingCssClass(): boolean {\n    return this.selectComponent._isSearching;\n  }\n  @HostBinding('class.ionic-selectable-modal-ios')\n  get _isIos(): boolean {\n    return this.selectComponent._isIos;\n  }\n  @HostBinding('class.ionic-selectable-modal-md')\n  _isMD(): boolean {\n    return this.selectComponent._isMD;\n  }\n  @HostBinding('class.ionic-selectable-modal-is-add-item-template-visible')\n  get _isAddItemTemplateVisibleCssClass(): boolean {\n    return this.selectComponent._isAddItemTemplateVisible;\n  }\n  @HostListener('window:resize')\n  onResize() {\n    // ion-footer inside the template might change its height when\n    // device orientation changes.\n    this.selectComponent._positionAddItemTemplate();\n  }\n\n  constructor(\n    private navParams: NavParams,\n    public _element: ElementRef,\n  ) {\n    this.selectComponent = this.navParams.get('selectComponent');\n    this.selectComponent._modalComponent = this;\n    this.selectComponent._selectedItems = [];\n\n    if (!this.selectComponent._isNullOrWhiteSpace(this.selectComponent.value)) {\n      if (this.selectComponent.isMultiple) {\n        this.selectComponent.value.forEach(item => {\n          this.selectComponent._selectedItems.push(item);\n        });\n      } else {\n        this.selectComponent._selectedItems.push(this.selectComponent.value);\n      }\n    }\n\n    this.selectComponent._setItemsToConfirm(this.selectComponent._selectedItems);\n  }\n\n  ngAfterViewInit() {\n    this._header = this._element.nativeElement.querySelector('ion-header');\n\n    if (this._searchbarComponent && this.selectComponent.shouldFocusSearchbar) {\n      // Focus after a delay because focus doesn't work without it.\n      setTimeout(() => {\n        this._searchbarComponent.setFocus();\n      }, 1000);\n    }\n  }\n}\n","import { Directive } from '@angular/core';\n\n@Directive({\n  selector: '[ionicSelectablePlaceholderTemplate]',\n})\nexport class IonicSelectablePlaceholderTemplateDirective { }\n","import { Directive } from '@angular/core';\n\n@Directive({\n  selector: '[ionicSelectableSearchFailTemplate]',\n})\nexport class IonicSelectableSearchFailTemplateDirective { }\n","import { Directive } from '@angular/core';\n\n@Directive({\n  selector: '[ionicSelectableTitleTemplate]',\n})\nexport class IonicSelectableTitleTemplateDirective { }\n","import { Directive } from '@angular/core';\n\n@Directive({\n  selector: '[ionicSelectableValueTemplate]',\n})\nexport class IonicSelectableValueTemplateDirective { }\n","import { Directive } from '@angular/core';\n\n@Directive({\n  selector: '[ionicSelectableIconTemplate]'\n})\nexport class IonicSelectableIconTemplateDirective { }\n","// tslint:disable-next-line:max-line-length\nimport { Component, ContentChild, DoCheck, ElementRef, EventEmitter, forwardRef, HostBinding, Input, IterableDiffer, IterableDiffers, OnInit, Optional, Output, Renderer2, TemplateRef, ViewEncapsulation } from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { IonItem, ModalController, Platform } from '@ionic/angular';\nimport { AnimationBuilder, ModalOptions } from '@ionic/core';\nimport { Subscription } from 'rxjs';\nimport { IonicSelectableAddItemTemplateDirective } from './ionic-selectable-add-item-template.directive';\nimport { IonicSelectableCloseButtonTemplateDirective } from './ionic-selectable-close-button-template.directive';\nimport { IonicSelectableFooterTemplateDirective } from './ionic-selectable-footer-template.directive';\nimport { IonicSelectableGroupEndTemplateDirective } from './ionic-selectable-group-end-template.directive';\nimport { IonicSelectableGroupTemplateDirective } from './ionic-selectable-group-template.directive';\nimport { IonicSelectableHeaderTemplateDirective } from './ionic-selectable-header-template.directive';\nimport { IonicSelectableItemEndTemplateDirective } from './ionic-selectable-item-end-template.directive';\nimport { IonicSelectableItemIconTemplateDirective } from './ionic-selectable-item-icon-template.directive';\nimport { IonicSelectableItemTemplateDirective } from './ionic-selectable-item-template.directive';\nimport { IonicSelectableMessageTemplateDirective } from './ionic-selectable-message-template.directive';\nimport { IonicSelectableModalComponent } from './ionic-selectable-modal.component';\nimport { IonicSelectablePlaceholderTemplateDirective } from './ionic-selectable-placeholder-template.directive';\nimport { IonicSelectableSearchFailTemplateDirective } from './ionic-selectable-search-fail-template.directive';\nimport { IonicSelectableTitleTemplateDirective } from './ionic-selectable-title-template.directive';\nimport { IonicSelectableValueTemplateDirective } from './ionic-selectable-value-template.directive';\nimport { IonicSelectableIconTemplateDirective } from './ionic-selectable-icon-template.directive';\n\n@Component({\n  selector: 'ionic-selectable',\n  templateUrl: './ionic-selectable.component.html',\n  styleUrls: ['./ionic-selectable.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n  providers: [{\n    provide: NG_VALUE_ACCESSOR,\n    useExisting: forwardRef(() => IonicSelectableComponent),\n    multi: true\n  }]\n})\nexport class IonicSelectableComponent implements ControlValueAccessor, OnInit, DoCheck {\n  @HostBinding('class.ionic-selectable')\n  _cssClass = true;\n  @HostBinding('class.ionic-selectable-ios')\n  _isIos: boolean;\n  @HostBinding('class.ionic-selectable-md')\n  _isMD: boolean;\n  @HostBinding('class.ionic-selectable-is-multiple')\n  get _isMultipleCssClass(): boolean {\n    return this.isMultiple;\n  }\n  @HostBinding('class.ionic-selectable-has-value')\n  get _hasValueCssClass(): boolean {\n    return this.hasValue();\n  }\n  @HostBinding('class.ionic-selectable-has-placeholder')\n  get _hasPlaceholderCssClass(): boolean {\n    return this._hasPlaceholder;\n  }\n  @HostBinding('class.ionic-selectable-has-label')\n  get _hasIonLabelCssClass(): boolean {\n    return this._hasIonLabel;\n  }\n  @HostBinding('class.ionic-selectable-label-default')\n  get _hasDefaultIonLabelCssClass(): boolean {\n    return this._ionLabelPosition === 'default';\n  }\n  @HostBinding('class.ionic-selectable-label-fixed')\n  get _hasFixedIonLabelCssClass(): boolean {\n    return this._ionLabelPosition === 'fixed';\n  }\n  @HostBinding('class.ionic-selectable-label-stacked')\n  get _hasStackedIonLabelCssClass(): boolean {\n    return this._ionLabelPosition === 'stacked';\n  }\n  @HostBinding('class.ionic-selectable-label-floating')\n  get _hasFloatingIonLabelCssClass(): boolean {\n    return this._ionLabelPosition === 'floating';\n  }\n  private _isOnSearchEnabled = true;\n  private _isEnabled = true;\n  private _shouldBackdropClose = true;\n  private _isOpened = false;\n  private _value: any = null;\n  private _modal: HTMLIonModalElement;\n  private _itemsDiffer: IterableDiffer<any>;\n  private _hasObjects: boolean;\n  private _canClear = false;\n  private _hasConfirmButton = false;\n  private _isMultiple = false;\n  private _canAddItem = false;\n  private _addItemObservable: Subscription;\n  private _deleteItemObservable: Subscription;\n  private onItemsChange: EventEmitter<any> = new EventEmitter();\n  private _ionItemElement: any;\n  private _ionLabelElement: any;\n  private _hasIonLabel = false;\n  private _ionLabelPosition: 'fixed' | 'stacked' | 'floating' | 'default' | null = null;\n  private _label: string = null;\n  private get _hasInfiniteScroll(): boolean {\n    return this.isEnabled && this._modalComponent &&\n      this._modalComponent._infiniteScroll ? true : false;\n  }\n  get _shouldStoreItemValue(): boolean {\n    return this.shouldStoreItemValue && this._hasObjects;\n  }\n  _valueItems: any[] = [];\n  _searchText = '';\n  _hasSearchText = false;\n  _groups: any[] = [];\n  _itemsToConfirm: any[] = [];\n  _selectedItems: any[] = [];\n  _modalComponent: IonicSelectableModalComponent;\n  _filteredGroups: any[] = [];\n  _hasGroups: boolean;\n  _isSearching: boolean;\n  _hasPlaceholder: boolean;\n  _isAddItemTemplateVisible = false;\n  _isFooterVisible = true;\n  _itemToAdd: any = null;\n  _footerButtonsCount = 0;\n  _hasFilteredItems = false;\n\n  /**\n   * Text of [Ionic Label](https://ionicframework.com/docs/api/label).\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#label).\n   *\n   * @readonly\n   * @default null\n   * @memberof IonicSelectableComponent\n   */\n  get label(): string {\n    return this._label;\n  }\n\n  /**\n   * Text that the user has typed in Searchbar.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#searchtext).\n   *\n   * @readonly\n   * @default ''\n   * @memberof IonicSelectableComponent\n   */\n  get searchText(): string {\n    return this._searchText;\n  }\n  set searchText(searchText: string) {\n    this._searchText = searchText;\n    this._setHasSearchText();\n  }\n\n  /**\n   * Determines whether search is running.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#issearching).\n   *\n   * @default false\n   * @readonly\n   * @memberof IonicSelectableComponent\n   */\n  get isSearching(): boolean {\n    return this._isSearching;\n  }\n\n  /**\n   * Determines whether user has typed anything in Searchbar.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#hassearchtext).\n   *\n   * @default false\n   * @readonly\n   * @memberof IonicSelectableComponent\n   */\n  get hasSearchText(): boolean {\n    return this._hasSearchText;\n  }\n\n  get value(): any {\n    return this._value;\n  }\n  set value(value: any) {\n    this._value = value;\n\n    // Set value items.\n    this._valueItems.splice(0, this._valueItems.length);\n\n    if (this.isMultiple) {\n      if (value && value.length) {\n        Array.prototype.push.apply(this._valueItems, value);\n      }\n    } else {\n      if (!this._isNullOrWhiteSpace(value)) {\n        this._valueItems.push(value);\n      }\n    }\n\n    this._setIonItemHasValue();\n    this._setHasPlaceholder();\n  }\n\n  /**\n   * A list of items.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#items).\n   *\n   * @default []\n   * @memberof IonicSelectableComponent\n   */\n  @Input()\n  items: any[] = [];\n  @Output()\n  itemsChange: EventEmitter<any> = new EventEmitter();\n\n  /**\n   * Determines whether the component is enabled.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#isenabled).\n   *\n   * @default true\n   * @memberof IonicSelectableComponent\n   */\n  @HostBinding('class.ionic-selectable-is-enabled')\n  @Input('isEnabled')\n  get isEnabled(): boolean {\n    return this._isEnabled;\n  }\n  set isEnabled(isEnabled: boolean) {\n    this._isEnabled = !!isEnabled;\n    this.enableIonItem(this._isEnabled);\n  }\n\n  /**\n   * Determines whether Modal should be closed when backdrop is clicked.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#shouldbackdropclose).\n   *\n   * @default true\n   * @memberof IonicSelectableComponent\n   */\n  @Input('shouldBackdropClose')\n  get shouldBackdropClose(): boolean {\n    return this._shouldBackdropClose;\n  }\n  set shouldBackdropClose(shouldBackdropClose: boolean) {\n    this._shouldBackdropClose = !!shouldBackdropClose;\n  }\n\n  /**\n   * Modal CSS class.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#modalcssclass).\n   *\n   * @default null\n   * @memberof IonicSelectableComponent\n   */\n  @Input()\n  modalCssClass: string = null;\n\n  /**\n   * Modal enter animation.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#modalenteranimation).\n   *\n   * @default null\n   * @memberof IonicSelectableComponent\n   */\n  @Input()\n  modalEnterAnimation: AnimationBuilder = null;\n\n  /**\n   * Modal leave animation.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#modalleaveanimation).\n   *\n   * @default null\n   * @memberof IonicSelectableComponent\n   */\n  @Input()\n  modalLeaveAnimation: AnimationBuilder = null;\n\n  /**\n   * Determines whether Modal is opened.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#isopened).\n   *\n   * @default false\n   * @readonly\n   * @memberof IonicSelectableComponent\n   */\n  get isOpened(): boolean {\n    return this._isOpened;\n  }\n\n  /**\n   * Determines whether Confirm button is enabled.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#isconfirmbuttonenabled).\n   *\n   * @default true\n   * @memberof IonicSelectableComponent\n   */\n  @Input()\n  isConfirmButtonEnabled = true;\n\n  /**\n * Determines whether Confirm button is visible for single selection.\n * By default Confirm button is visible only for multiple selection.\n * **Note**: It is always true for multiple selection and cannot be changed.\n * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#hasconfirmbutton).\n *\n * @default true\n * @memberof IonicSelectableComponent\n */\n  @Input('hasConfirmButton')\n  get hasConfirmButton(): boolean {\n    return this._hasConfirmButton;\n  }\n  set hasConfirmButton(hasConfirmButton: boolean) {\n    this._hasConfirmButton = !!hasConfirmButton;\n    this._countFooterButtons();\n  }\n\n  /**\n   * Item property to use as a unique identifier, e.g, `'id'`.\n   * **Note**: `items` should be an object array.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#itemvaluefield).\n   *\n   * @default null\n   * @memberof IonicSelectableComponent\n   */\n  @Input()\n  itemValueField: string = null;\n\n  /**\n   * Item property to display, e.g, `'name'`.\n   * **Note**: `items` should be an object array.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#itemtextfield).\n   *\n   * @default false\n   * @memberof IonicSelectableComponent\n   */\n  @Input()\n  itemTextField: string = null;\n\n  /**\n   *\n   * Group property to use as a unique identifier to group items, e.g. `'country.id'`.\n   * **Note**: `items` should be an object array.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#groupvaluefield).\n   *\n   * @default null\n   * @memberof IonicSelectableComponent\n   */\n  @Input()\n  groupValueField: string = null;\n\n  /**\n* Group property to display, e.g. `'country.name'`.\n* **Note**: `items` should be an object array.\n* See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#grouptextfield).\n*\n* @default null\n* @memberof IonicSelectableComponent\n*/\n  @Input()\n  groupTextField: string = null;\n\n  /**\n   * Determines whether to show Searchbar.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#cansearch).\n   *\n   * @default false\n   * @memberof IonicSelectableComponent\n   */\n  @Input()\n  canSearch = false;\n\n  /**\n   * Determines whether `onSearch` event is enabled.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#isonsearchenabled).\n   *\n   * @default true\n   * @memberof IonicSelectableComponent\n   */\n  @Input('isOnSearchEnabled')\n  get isOnSearchEnabled(): boolean {\n    return this._isOnSearchEnabled;\n  }\n  set isOnSearchEnabled(isOnSearchEnabled: boolean) {\n    this._isOnSearchEnabled = !!isOnSearchEnabled;\n  }\n\n  /**\n   * Determines whether to show Clear button.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#canclear).\n   *\n   * @default false\n   * @memberof IonicSelectableComponent\n   */\n  @HostBinding('class.ionic-selectable-can-clear')\n  @Input('canClear')\n  get canClear(): boolean {\n    return this._canClear;\n  }\n  set canClear(canClear: boolean) {\n    this._canClear = !!canClear;\n    this._countFooterButtons();\n  }\n\n  /**\n   * Determines whether Ionic [InfiniteScroll](https://ionicframework.com/docs/api/components/infinite-scroll/InfiniteScroll/) is enabled.\n   * **Note**: Infinite scroll cannot be used together with virtual scroll.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#hasinfinitescroll).\n   *\n   * @default false\n   * @memberof IonicSelectableComponent\n   */\n  @Input()\n  hasInfiniteScroll = false;\n\n  /**\n   * Determines whether Ionic [VirtualScroll](https://ionicframework.com/docs/api/components/virtual-scroll/VirtualScroll/) is enabled.\n   * **Note**: Virtual scroll cannot be used together with infinite scroll.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#hasvirtualscroll).\n   *\n   * @default false\n   * @memberof IonicSelectableComponent\n   */\n  @Input()\n  hasVirtualScroll = false;\n\n  /**\n   * See Ionic VirtualScroll [approxItemHeight](https://ionicframework.com/docs/api/components/virtual-scroll/VirtualScroll/).\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#virtualscrollapproxitemheight).\n   *\n   * @default '40px'\n   * @memberof IonicSelectableComponent\n   */\n  @Input()\n  virtualScrollApproxItemHeight = '40px';\n\n  /**\n   * A placeholder for Searchbar.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#searchplaceholder).\n   *\n   * @default 'Search'\n   * @memberof IonicSelectableComponent\n   */\n  @Input()\n  searchPlaceholder = 'Search';\n\n  /**\n   * A placeholder.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#placeholder).\n   *\n   * @default null\n   * @memberof IonicSelectableComponent\n   */\n  @Input()\n  placeholder: string = null;\n\n  /**\n   * Determines whether multiple items can be selected.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#ismultiple).\n   *\n   * @default false\n   * @memberof IonicSelectableComponent\n   */\n  @Input('isMultiple')\n  get isMultiple(): boolean {\n    return this._isMultiple;\n  }\n  set isMultiple(isMultiple: boolean) {\n    this._isMultiple = !!isMultiple;\n    this._countFooterButtons();\n  }\n\n  /**\n   * Text to display when no items have been found during search.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#searchfailtext).\n   *\n   * @default 'No items found.'\n   * @memberof IonicSelectableComponent\n   */\n  @Input()\n  searchFailText = 'No items found.';\n\n  /**\n   * Clear button text.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#clearbuttontext).\n   *\n   * @default 'Clear'\n   * @memberof IonicSelectableComponent\n   */\n  @Input()\n  clearButtonText = 'Clear';\n\n  /**\n   * Add button text.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#addbuttontext).\n   *\n   * @default 'Add'\n   * @memberof IonicSelectableComponent\n   */\n  @Input()\n  addButtonText = 'Add';\n\n  /**\n   * Confirm button text.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#confirmbuttontext).\n   *\n   * @default 'OK'\n   * @memberof IonicSelectableComponent\n   */\n  @Input()\n  confirmButtonText = 'OK';\n\n  /**\n   * Close button text.\n   * The field is only applicable to **iOS** platform, on **Android** only Cross icon is displayed.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#closebuttontext).\n   *\n   * @default 'Cancel'\n   * @memberof IonicSelectableComponent\n   */\n  @Input()\n  closeButtonText = 'Cancel';\n\n  /**\n   * Determines whether Searchbar should receive focus when Modal is opened.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#shouldfocussearchbar).\n   *\n   * @default false\n   * @memberof IonicSelectableComponent\n   */\n  @Input()\n  shouldFocusSearchbar = false;\n\n  /**\n   * Header color. [Ionic colors](https://ionicframework.com/docs/theming/advanced#colors) are supported.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#headercolor).\n   *\n   * @default null\n   * @memberof IonicSelectableComponent\n   */\n  @Input()\n  headerColor: string = null;\n\n  /**\n   * Group color. [Ionic colors](https://ionicframework.com/docs/theming/advanced#colors) are supported.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#groupcolor).\n   *\n   * @default null\n   * @memberof IonicSelectableComponent\n   */\n  @Input()\n  groupColor: string = null;\n\n  /**\n   * Close button slot. [Ionic slots](https://ionicframework.com/docs/api/buttons) are supported.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#closebuttonslot).\n   *\n   * @default 'start'\n   * @memberof IonicSelectableComponent\n   */\n  @Input()\n  closeButtonSlot = 'start';\n\n  /**\n   * Item icon slot. [Ionic slots](https://ionicframework.com/docs/api/item) are supported.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#itemiconslot).\n   *\n   * @default 'start'\n   * @memberof IonicSelectableComponent\n   */\n  @Input()\n  itemIconSlot = 'start';\n\n  /**\n   * Fires when item/s has been selected and Modal closed.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#onchange).\n   *\n   * @memberof IonicSelectableComponent\n   */\n  @Output()\n  onChange: EventEmitter<{ component: IonicSelectableComponent, value: any }> = new EventEmitter();\n\n  /**\n   * Fires when the user is typing in Searchbar.\n   * **Note**: `canSearch` and `isOnSearchEnabled` has to be enabled.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#onsearch).\n   *\n   * @memberof IonicSelectableComponent\n   */\n  @Output()\n  onSearch: EventEmitter<{ component: IonicSelectableComponent, text: string }> = new EventEmitter();\n\n  /**\n   * Fires when no items have been found.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#onsearchfail).\n   *\n   * @memberof IonicSelectableComponent\n   */\n  @Output()\n  onSearchFail: EventEmitter<{ component: IonicSelectableComponent, text: string }> = new EventEmitter();\n\n  /**\n   * Fires when some items have been found.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#onsearchsuccess).\n   *\n   * @memberof IonicSelectableComponent\n   */\n  @Output()\n  onSearchSuccess: EventEmitter<{ component: IonicSelectableComponent, text: string }> = new EventEmitter();\n\n  /**\n   * Fires when the user has scrolled to the end of the list.\n   * **Note**: `hasInfiniteScroll` has to be enabled.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#oninfinitescroll).\n   *\n   * @memberof IonicSelectableComponent\n   */\n  @Output()\n  onInfiniteScroll: EventEmitter<{ component: IonicSelectableComponent, text: string }> = new EventEmitter();\n\n  /**\n   * Fires when Modal has been opened.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#onopen).\n   *\n   * @memberof IonicSelectableComponent\n   */\n  @Output()\n  onOpen: EventEmitter<{ component: IonicSelectableComponent }> = new EventEmitter();\n\n  /**\n   * Fires when Modal has been closed.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#onclose).\n   *\n   * @memberof IonicSelectableComponent\n   */\n  @Output()\n  onClose: EventEmitter<{ component: IonicSelectableComponent }> = new EventEmitter();\n\n  /**\n   * Fires when an item has been selected or unselected.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#onselect).\n   *\n   * @memberof IonicSelectableComponent\n   */\n  @Output()\n  onSelect: EventEmitter<{ component: IonicSelectableComponent, item: any, isSelected: boolean }> = new EventEmitter();\n\n  /**\n   * Fires when Clear button has been clicked.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#onclear).\n   *\n   * @memberof IonicSelectableComponent\n   */\n  @Output()\n  onClear: EventEmitter<{ component: IonicSelectableComponent, items: any[] }> = new EventEmitter();\n\n  /**\n   * A list of items that are selected and awaiting confirmation by user, when he has clicked Confirm button.\n   * After the user has clicked Confirm button items to confirm are cleared.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#itemstoconfirm).\n   *\n   * @default []\n   * @readonly\n   * @memberof IonicSelectableComponent\n   */\n  get itemsToConfirm(): any[] {\n    return this._itemsToConfirm;\n  }\n\n  /**\n   * How long, in milliseconds, to wait to filter items or to trigger `onSearch` event after each keystroke.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#searchdebounce).\n   *\n   * @default 250\n   * @memberof IonicSelectableComponent\n   */\n  @Input()\n  searchDebounce: Number = 250;\n\n  /**\n   * A list of items to disable.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#disableditems).\n   *\n   * @default []\n   * @memberof IonicSelectableComponent\n   */\n  @Input()\n  disabledItems: any[] = [];\n\n  /**\n   * Determines whether item value only should be stored in `ngModel`, not the entire item.\n   * **Note**: Item value is defined by `itemValueField`.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#shouldstoreitemvalue).\n   *\n   * @default false\n   * @memberof IonicSelectableComponent\n   */\n  @Input()\n  shouldStoreItemValue = false;\n\n  /**\n   * Determines whether to allow editing items.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#cansaveitem).\n   *\n   * @default false\n   * @memberof IonicSelectableComponent\n   */\n  @Input()\n  canSaveItem = false;\n\n  /**\n   * Determines whether to allow deleting items.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#candeleteitem).\n   *\n   * @default false\n   * @memberof IonicSelectableComponent\n   */\n  @Input()\n  canDeleteItem = false;\n\n  /**\n   * Determines whether to allow adding items.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#canadditem).\n   *\n   * @default false\n   * @memberof IonicSelectableComponent\n   */\n  @Input('canAddItem')\n  get canAddItem(): boolean {\n    return this._canAddItem;\n  }\n  set canAddItem(canAddItem: boolean) {\n    this._canAddItem = !!canAddItem;\n    this._countFooterButtons();\n  }\n\n  /**\n   * Fires when Edit item button has been clicked.\n   * When the button has been clicked `ionicSelectableAddItemTemplate` will be shown. Use the template to create a form to edit item.\n   * **Note**: `canSaveItem` has to be enabled.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#onsaveitem).\n   *\n   * @memberof IonicSelectableComponent\n   */\n  @Output()\n  onSaveItem: EventEmitter<{ component: IonicSelectableComponent, item: any }> = new EventEmitter();\n\n  /**\n   * Fires when Delete item button has been clicked.\n   * **Note**: `canDeleteItem` has to be enabled.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#ondeleteitem).\n   *\n   * @memberof IonicSelectableComponent\n   */\n  @Output()\n  onDeleteItem: EventEmitter<{ component: IonicSelectableComponent, item: any }> = new EventEmitter();\n\n  /**\n   * Fires when Add item button has been clicked.\n   * When the button has been clicked `ionicSelectableAddItemTemplate` will be shown. Use the template to create a form to add item.\n   * **Note**: `canAddItem` has to be enabled.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#onadditem).\n   *\n   * @memberof IonicSelectableComponent\n   */\n  @Output()\n  onAddItem: EventEmitter<{ component: IonicSelectableComponent }> = new EventEmitter();\n\n  @ContentChild(IonicSelectableValueTemplateDirective, { read: TemplateRef })\n  valueTemplate: TemplateRef<any>;\n  @ContentChild(IonicSelectableItemTemplateDirective, { read: TemplateRef })\n  itemTemplate: TemplateRef<any>;\n  @ContentChild(IonicSelectableItemEndTemplateDirective, { read: TemplateRef })\n  itemEndTemplate: TemplateRef<any>;\n  @ContentChild(IonicSelectableTitleTemplateDirective, { read: TemplateRef })\n  titleTemplate: TemplateRef<any>;\n  @ContentChild(IonicSelectablePlaceholderTemplateDirective, { read: TemplateRef })\n  placeholderTemplate: TemplateRef<any>;\n  @ContentChild(IonicSelectableMessageTemplateDirective, { read: TemplateRef })\n  messageTemplate: TemplateRef<any>;\n  @ContentChild(IonicSelectableGroupTemplateDirective, { read: TemplateRef })\n  groupTemplate: TemplateRef<any>;\n  @ContentChild(IonicSelectableGroupEndTemplateDirective, { read: TemplateRef })\n  groupEndTemplate: TemplateRef<any>;\n  @ContentChild(IonicSelectableCloseButtonTemplateDirective, { read: TemplateRef })\n  closeButtonTemplate: TemplateRef<any>;\n  @ContentChild(IonicSelectableSearchFailTemplateDirective, { read: TemplateRef })\n  searchFailTemplate: TemplateRef<any>;\n  @ContentChild(IonicSelectableAddItemTemplateDirective, { read: TemplateRef })\n  addItemTemplate: TemplateRef<any>;\n  @ContentChild(IonicSelectableFooterTemplateDirective, { read: TemplateRef })\n  footerTemplate: TemplateRef<any>;\n  _addItemTemplateFooterHeight: string;\n  @ContentChild(IonicSelectableHeaderTemplateDirective, { read: TemplateRef })\n  headerTemplate: TemplateRef<any>;\n  @ContentChild(IonicSelectableItemIconTemplateDirective, { read: TemplateRef })\n  itemIconTemplate: TemplateRef<any>;\n  @ContentChild(IonicSelectableIconTemplateDirective, { read: TemplateRef })\n  iconTemplate: TemplateRef<any>;\n\n  /**\n   * See Ionic VirtualScroll [headerFn](https://ionicframework.com/docs/api/components/virtual-scroll/VirtualScroll/).\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#virtualscrollheaderfn).\n   *\n   * @memberof IonicSelectableComponent\n   */\n  @Input()\n  virtualScrollHeaderFn = () => {\n    return null;\n  }\n\n  constructor(\n    private _modalController: ModalController,\n    private _platform: Platform,\n    @Optional() private ionItem: IonItem,\n    private _iterableDiffers: IterableDiffers,\n    private _element: ElementRef,\n    private _renderer: Renderer2\n  ) {\n    if (!this.items || !this.items.length) {\n      this.items = [];\n    }\n\n    this._itemsDiffer = this._iterableDiffers.find(this.items).create();\n  }\n\n  initFocus() { }\n\n  enableIonItem(isEnabled: boolean) {\n    if (!this.ionItem) {\n      return;\n    }\n\n    this.ionItem.disabled = !isEnabled;\n  }\n\n  _isNullOrWhiteSpace(value: any): boolean {\n    if (value === null || value === undefined) {\n      return true;\n    }\n\n    // Convert value to string in case if it's not.\n    return value.toString().replace(/\\s/g, '').length < 1;\n  }\n\n  _setHasSearchText() {\n    this._hasSearchText = !this._isNullOrWhiteSpace(this._searchText);\n  }\n\n  _hasOnSearch(): boolean {\n    return this.isOnSearchEnabled && this.onSearch.observers.length > 0;\n  }\n\n  _hasOnSaveItem(): boolean {\n    return this.canSaveItem && this.onSaveItem.observers.length > 0;\n  }\n\n  _hasOnAddItem(): boolean {\n    return this.canAddItem && this.onAddItem.observers.length > 0;\n  }\n\n  _hasOnDeleteItem(): boolean {\n    return this.canDeleteItem && this.onDeleteItem.observers.length > 0;\n  }\n\n  _emitValueChange() {\n    this.propagateOnChange(this.value);\n\n    this.onChange.emit({\n      component: this,\n      value: this.value\n    });\n  }\n\n  _emitSearch() {\n    if (!this.canSearch) {\n      return;\n    }\n\n    this.onSearch.emit({\n      component: this,\n      text: this._searchText\n    });\n  }\n\n  _emitOnSelect(item: any, isSelected: boolean) {\n    this.onSelect.emit({\n      component: this,\n      item: item,\n      isSelected: isSelected\n    });\n  }\n\n  _emitOnClear(items: any[]) {\n    this.onClear.emit({\n      component: this,\n      items: items\n    });\n  }\n\n  _emitOnSearchSuccessOrFail(isSuccess: boolean) {\n    const eventData = {\n      component: this,\n      text: this._searchText\n    };\n\n    if (isSuccess) {\n      this.onSearchSuccess.emit(eventData);\n    } else {\n      this.onSearchFail.emit(eventData);\n    }\n  }\n\n  _formatItem(item: any): string {\n    if (this._isNullOrWhiteSpace(item)) {\n      return null;\n    }\n\n    return this.itemTextField ? item[this.itemTextField] : item.toString();\n  }\n\n  _formatValueItem(item: any): string {\n    if (this._shouldStoreItemValue) {\n      // Get item text from the list as we store it's value only.\n      const selectedItem = this.items.find(_item => {\n        return _item[this.itemValueField] === item;\n      });\n\n      return this._formatItem(selectedItem);\n    } else {\n      return this._formatItem(item);\n    }\n  }\n\n  _getItemValue(item: any): any {\n    if (!this._hasObjects) {\n      return item;\n    }\n\n    return item[this.itemValueField];\n  }\n\n  _getStoredItemValue(item: any): any {\n    if (!this._hasObjects) {\n      return item;\n    }\n\n    return this._shouldStoreItemValue ? item : item[this.itemValueField];\n  }\n\n  _onSearchbarClear() {\n    // Ionic Searchbar doesn't clear bind with ngModel value.\n    // Do it ourselves.\n    this._searchText = '';\n  }\n\n  _filterItems() {\n    this._setHasSearchText();\n\n    if (this._hasOnSearch()) {\n      // Delegate filtering to the event.\n      this._emitSearch();\n    } else {\n      // Default filtering.\n      let groups = [];\n\n      if (!this._searchText || !this._searchText.trim()) {\n        groups = this._groups;\n      } else {\n        const filterText = this._searchText.trim().toLowerCase();\n\n        this._groups.forEach(group => {\n          const items = group.items.filter(item => {\n            const itemText = (this.itemTextField ?\n              item[this.itemTextField] : item).toString().toLowerCase();\n            return itemText.indexOf(filterText) !== -1;\n          });\n\n          if (items.length) {\n            groups.push({\n              value: group.value,\n              text: group.text,\n              items: items\n            });\n          }\n        });\n\n        // No items found.\n        if (!groups.length) {\n          groups.push({\n            items: []\n          });\n        }\n      }\n\n      this._filteredGroups = groups;\n      this._hasFilteredItems = !this._areGroupsEmpty(groups);\n      this._emitOnSearchSuccessOrFail(this._hasFilteredItems);\n    }\n  }\n\n  _isItemDisabled(item: any): boolean {\n    if (!this.disabledItems) {\n      return;\n    }\n\n    return this.disabledItems.some(_item => {\n      return this._getItemValue(_item) === this._getItemValue(item);\n    });\n  }\n\n  _isItemSelected(item: any) {\n    return this._selectedItems.find(selectedItem => {\n      return this._getItemValue(item) === this._getStoredItemValue(selectedItem);\n    }) !== undefined;\n  }\n\n  _addSelectedItem(item: any) {\n    if (this._shouldStoreItemValue) {\n      this._selectedItems.push(this._getItemValue(item));\n    } else {\n      this._selectedItems.push(item);\n    }\n  }\n\n  _deleteSelectedItem(item: any) {\n    let itemToDeleteIndex;\n\n    this._selectedItems.forEach((selectedItem, itemIndex) => {\n      if (\n        this._getItemValue(item) ===\n        this._getStoredItemValue(selectedItem)\n      ) {\n        itemToDeleteIndex = itemIndex;\n      }\n    });\n\n    this._selectedItems.splice(itemToDeleteIndex, 1);\n  }\n\n  _click() {\n    if (!this.isEnabled) {\n      return;\n    }\n\n    this._label = this._getLabelText();\n    this.open().then(() => {\n      this.onOpen.emit({\n        component: this\n      });\n    });\n  }\n\n  _saveItem(event: Event, item: any) {\n    event.stopPropagation();\n    this._itemToAdd = item;\n\n    if (this._hasOnSaveItem()) {\n      this.onSaveItem.emit({\n        component: this,\n        item: this._itemToAdd\n      });\n    } else {\n      this.showAddItemTemplate();\n    }\n  }\n\n  _deleteItemClick(event: Event, item: any) {\n    event.stopPropagation();\n    this._itemToAdd = item;\n\n    if (this._hasOnDeleteItem()) {\n      // Delegate logic to event.\n      this.onDeleteItem.emit({\n        component: this,\n        item: this._itemToAdd\n      });\n    } else {\n      this.deleteItem(this._itemToAdd);\n    }\n  }\n\n  _addItemClick() {\n    if (this._hasOnAddItem()) {\n      this.onAddItem.emit({\n        component: this\n      });\n    } else {\n      this.showAddItemTemplate();\n    }\n  }\n\n  _positionAddItemTemplate() {\n    // Wait for the template to render.\n    setTimeout(() => {\n      const footer = this._modalComponent._element.nativeElement\n        .querySelector('.ionic-selectable-add-item-template ion-footer');\n\n      this._addItemTemplateFooterHeight = footer ? `calc(100% - ${footer.offsetHeight}px)` : '100%';\n    }, 100);\n  }\n\n  _close() {\n    this.close().then(() => {\n      this.onClose.emit({\n        component: this\n      });\n    });\n\n    if (!this._hasOnSearch()) {\n      this._searchText = '';\n      this._setHasSearchText();\n    }\n  }\n\n  _clear() {\n    const selectedItems = this._selectedItems;\n\n    this.clear();\n    this._emitValueChange();\n    this._emitOnClear(selectedItems);\n    this.close().then(() => {\n      this.onClose.emit({\n        component: this\n      });\n    });\n  }\n\n  _getMoreItems() {\n    this.onInfiniteScroll.emit({\n      component: this,\n      text: this._searchText\n    });\n  }\n\n  _setItemsToConfirm(items: any[]) {\n    // Return a copy of original array, so it couldn't be changed from outside.\n    this._itemsToConfirm = [].concat(items);\n  }\n\n  _doSelect(selectedItem: any) {\n    this.value = selectedItem;\n    this._emitValueChange();\n  }\n\n  _select(item: any) {\n    const isItemSelected = this._isItemSelected(item);\n\n    if (this.isMultiple) {\n      if (isItemSelected) {\n        this._deleteSelectedItem(item);\n      } else {\n        this._addSelectedItem(item);\n      }\n\n      this._setItemsToConfirm(this._selectedItems);\n\n      // Emit onSelect event after setting items to confirm so they could be used\n      // inside the event.\n      this._emitOnSelect(item, !isItemSelected);\n    } else {\n      if (this.hasConfirmButton || this.footerTemplate) {\n        // Don't close Modal and keep track on items to confirm.\n        // When footer template is used it's up to developer to close Modal.\n        this._selectedItems = [];\n\n        if (isItemSelected) {\n          this._deleteSelectedItem(item);\n        } else {\n          this._addSelectedItem(item);\n        }\n\n        this._setItemsToConfirm(this._selectedItems);\n\n        // Emit onSelect event after setting items to confirm so they could be used\n        // inside the event.\n        this._emitOnSelect(item, !isItemSelected);\n      } else {\n        if (!isItemSelected) {\n          this._selectedItems = [];\n          this._addSelectedItem(item);\n\n          // Emit onSelect before onChange.\n          this._emitOnSelect(item, true);\n\n          if (this._shouldStoreItemValue) {\n            this._doSelect(this._getItemValue(item));\n          } else {\n            this._doSelect(item);\n          }\n        }\n\n        this._close();\n      }\n    }\n  }\n\n  _confirm() {\n    this.confirm();\n    this._close();\n  }\n\n  private _getLabelText(): string {\n    return this._ionLabelElement ? this._ionLabelElement.textContent : null;\n  }\n\n  private _areGroupsEmpty(groups) {\n    return groups.length === 0 || groups.every(group => {\n      return !group.items || group.items.length === 0;\n    });\n  }\n\n  private _countFooterButtons() {\n    let footerButtonsCount = 0;\n\n    if (this.canClear) {\n      footerButtonsCount++;\n    }\n\n    if (this.isMultiple || this._hasConfirmButton) {\n      footerButtonsCount++;\n    }\n\n    if (this.canAddItem) {\n      footerButtonsCount++;\n    }\n\n    this._footerButtonsCount = footerButtonsCount;\n  }\n\n  private _setItems(items: any[]) {\n    // It's important to have an empty starting group with empty items (groups[0].items),\n    // because we bind to it when using VirtualScroll.\n    // See https://github.com/eakoriakin/ionic-selectable/issues/70.\n    let groups: any[] = [{\n      items: items || []\n    }];\n\n    if (items && items.length) {\n      if (this._hasGroups) {\n        groups = [];\n\n        items.forEach(item => {\n          const groupValue = this._getPropertyValue(item, this.groupValueField),\n            group = groups.find(_group => _group.value === groupValue);\n\n          if (group) {\n            group.items.push(item);\n          } else {\n            groups.push({\n              value: groupValue,\n              text: this._getPropertyValue(item, this.groupTextField),\n              items: [item]\n            });\n          }\n        });\n      }\n    }\n\n    this._groups = groups;\n    this._filteredGroups = this._groups;\n    this._hasFilteredItems = !this._areGroupsEmpty(this._filteredGroups);\n  }\n\n  private _getPropertyValue(object: any, property: string): any {\n    if (!property) {\n      return null;\n    }\n\n    return property.split('.').reduce((_object, _property) => {\n      return _object ? _object[_property] : null;\n    }, object);\n  }\n\n  private _setIonItemHasFocus(hasFocus: boolean) {\n    if (!this.ionItem) {\n      return;\n    }\n\n    // Apply focus CSS class for proper stylying of ion-item/ion-label.\n    this._setIonItemCssClass('item-has-focus', hasFocus);\n  }\n\n  private _setIonItemHasValue() {\n    if (!this.ionItem) {\n      return;\n    }\n\n    // Apply value CSS class for proper stylying of ion-item/ion-label.\n    this._setIonItemCssClass('item-has-value', this.hasValue());\n  }\n\n  private _setHasPlaceholder() {\n    this._hasPlaceholder = !this.hasValue() &&\n      (!this._isNullOrWhiteSpace(this.placeholder) || this.placeholderTemplate) ?\n      true : false;\n  }\n\n  private propagateOnChange = (_: any) => { };\n  private propagateOnTouched = () => { };\n\n  private _setIonItemCssClass(cssClass: string, shouldAdd: boolean) {\n    if (!this._ionItemElement) {\n      return;\n    }\n\n    // Change to Renderer2\n    if (shouldAdd) {\n      this._renderer.addClass(this._ionItemElement, cssClass);\n    } else {\n      this._renderer.removeClass(this._ionItemElement, cssClass);\n    }\n  }\n\n  private _toggleAddItemTemplate(isVisible: boolean) {\n    // It should be possible to show/hide the template regardless\n    // canAddItem or canSaveItem parameters, so we could implement some\n    // custom behavior. E.g. adding item when search fails using onSearchFail event.\n    if (!this.addItemTemplate) {\n      return;\n    }\n\n    // To make SaveItemTemplate visible we just position it over list using CSS.\n    // We don't hide list with *ngIf or [hidden] to prevent its scroll position.\n    this._isAddItemTemplateVisible = isVisible;\n    this._isFooterVisible = !isVisible;\n  }\n\n  /* ControlValueAccessor */\n  writeValue(value: any) {\n    this.value = value;\n  }\n\n  registerOnChange(method: any): void {\n    this.propagateOnChange = method;\n  }\n\n  registerOnTouched(method: () => void) {\n    this.propagateOnTouched = method;\n  }\n\n  setDisabledState(isDisabled: boolean) {\n    this.isEnabled = !isDisabled;\n  }\n  /* .ControlValueAccessor */\n\n  ngOnInit() {\n    this._isIos = this._platform.is('ios');\n    this._isMD = !this._isIos;\n    this._hasObjects = !this._isNullOrWhiteSpace(this.itemValueField);\n    // Grouping is supported for objects only.\n    // Ionic VirtualScroll has it's own implementation of grouping.\n    this._hasGroups = Boolean(this._hasObjects && this.groupValueField && !this.hasVirtualScroll);\n\n    if (this.ionItem) {\n      this._ionItemElement = this._element.nativeElement.closest('ion-item');\n      this._setIonItemCssClass('item-interactive', true);\n      this._setIonItemCssClass('item-ionic-selectable', true);\n\n      if (this._ionItemElement) {\n        this._ionLabelElement = this._ionItemElement.querySelector('ion-label');\n\n        if (this._ionLabelElement) {\n          this._hasIonLabel = true;\n          this._ionLabelPosition = this._ionLabelElement.getAttribute('position') || 'default';\n        }\n      }\n    }\n\n    this.enableIonItem(this.isEnabled);\n  }\n\n  ngDoCheck() {\n    const itemsChanges = this._itemsDiffer.diff(this.items);\n\n    if (itemsChanges) {\n      this._setItems(this.items);\n      this.value = this.value;\n\n      this.onItemsChange.emit({\n        component: this\n      });\n    }\n  }\n\n  /**\n   * Adds item.\n   * **Note**: If you want an item to be added to the original array as well use two-way data binding syntax on `[(items)]` field.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#additem).\n   *\n   * @param item Item to add.\n   * @returns Promise that resolves when item has been added.\n   * @memberof IonicSelectableComponent\n   */\n  addItem(item: any): Promise<any> {\n    const self = this;\n\n    // Adding item triggers onItemsChange.\n    // Return a promise that resolves when onItemsChange finishes.\n    // We need a promise or user could do something after item has been added,\n    // e.g. use search() method to find the added item.\n    this.items.unshift(item);\n\n    // Close any running subscription.\n    if (this._addItemObservable) {\n      this._addItemObservable.unsubscribe();\n    }\n\n    return new Promise(function (resolve, reject) {\n      // Complete callback isn't fired for some reason,\n      // so unsubscribe in both success and fail cases.\n      self._addItemObservable = self.onItemsChange.asObservable().subscribe(() => {\n        self._addItemObservable.unsubscribe();\n        resolve();\n      }, () => {\n        self._addItemObservable.unsubscribe();\n        reject();\n      });\n    });\n  }\n\n  /**\n * Deletes item.\n * **Note**: If you want an item to be deleted from the original array as well use two-way data binding syntax on `[(items)]` field.\n * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#deleteitem).\n *\n * @param item Item to delete.\n * @returns Promise that resolves when item has been deleted.\n * @memberof IonicSelectableComponent\n */\n  deleteItem(item: any): Promise<any> {\n    const self = this;\n    let hasValueChanged = false;\n\n    // Remove deleted item from selected items.\n    if (this._selectedItems) {\n      this._selectedItems = this._selectedItems.filter(_item => {\n        return this._getItemValue(item) !== this._getStoredItemValue(_item);\n      });\n    }\n\n    // Remove deleted item from value.\n    if (this.value) {\n      if (this.isMultiple) {\n        const values = this.value.filter(value => {\n          return value.id !== item.id;\n        });\n\n        if (values.length !== this.value.length) {\n          this.value = values;\n          hasValueChanged = true;\n        }\n      } else {\n        if (item === this.value) {\n          this.value = null;\n          hasValueChanged = true;\n        }\n      }\n    }\n\n    if (hasValueChanged) {\n      this._emitValueChange();\n    }\n\n    // Remove deleted item from list.\n    const items = this.items.filter(_item => {\n      return _item.id !== item.id;\n    });\n\n    // Refresh items on parent component.\n    this.itemsChange.emit(items);\n\n    // Refresh list.\n    this._setItems(items);\n\n    this.onItemsChange.emit({\n      component: this\n    });\n\n    // Close any running subscription.\n    if (this._deleteItemObservable) {\n      this._deleteItemObservable.unsubscribe();\n    }\n\n    return new Promise(function (resolve, reject) {\n      // Complete callback isn't fired for some reason,\n      // so unsubscribe in both success and fail cases.\n      self._deleteItemObservable = self.onItemsChange.asObservable().subscribe(() => {\n        self._deleteItemObservable.unsubscribe();\n        resolve();\n      }, () => {\n        self._deleteItemObservable.unsubscribe();\n        reject();\n      });\n    });\n  }\n\n  /**\n   * Determines whether any item has been selected.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#hasvalue).\n   *\n   * @returns A boolean determining whether any item has been selected.\n   * @memberof IonicSelectableComponent\n   */\n  hasValue(): boolean {\n    if (this.isMultiple) {\n      return this._valueItems.length !== 0;\n    } else {\n      return this._valueItems.length !== 0 && !this._isNullOrWhiteSpace(this._valueItems[0]);\n    }\n  }\n\n  /**\n   * Opens Modal.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#open).\n   *\n   * @returns Promise that resolves when Modal has been opened.\n   * @memberof IonicSelectableComponent\n   */\n  open(): Promise<void> {\n    const self = this;\n\n    return new Promise(function (resolve, reject) {\n      if (!self._isEnabled || self._isOpened) {\n        reject('IonicSelectable is disabled or already opened.');\n        return;\n      }\n\n      self._filterItems();\n      self._isOpened = true;\n\n      const modalOptions: ModalOptions = {\n        component: IonicSelectableModalComponent,\n        componentProps: { selectComponent: self },\n        backdropDismiss: self._shouldBackdropClose\n      };\n\n      if (self.modalCssClass) {\n        modalOptions.cssClass = self.modalCssClass;\n      }\n\n      if (self.modalEnterAnimation) {\n        modalOptions.enterAnimation = self.modalEnterAnimation;\n      }\n\n      if (self.modalLeaveAnimation) {\n        modalOptions.leaveAnimation = self.modalLeaveAnimation;\n      }\n\n      self._modalController.create(modalOptions).then(modal => {\n        self._modal = modal;\n        modal.present().then(() => {\n          // Set focus after Modal has opened to avoid flickering of focus highlighting\n          // before Modal opening.\n          self._setIonItemHasFocus(true);\n          resolve();\n        });\n\n        modal.onWillDismiss().then(() => {\n          self._setIonItemHasFocus(false);\n        });\n\n        modal.onDidDismiss().then(event => {\n          self._isOpened = false;\n          self._itemsToConfirm = [];\n\n          // Closed by clicking on backdrop outside modal.\n          if (event.role === 'backdrop') {\n            self.onClose.emit({\n              component: self\n            });\n          }\n        });\n      });\n    });\n  }\n\n  /**\n   * Closes Modal.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#close).\n   *\n   * @returns Promise that resolves when Modal has been closed.\n   * @memberof IonicSelectableComponent\n   */\n  close(): Promise<void> {\n    const self = this;\n\n    return new Promise(function (resolve, reject) {\n      if (!self._isEnabled || !self._isOpened) {\n        reject('IonicSelectable is disabled or already closed.');\n        return;\n      }\n\n      self.propagateOnTouched();\n      self._isOpened = false;\n      self._itemToAdd = null;\n      self._modal.dismiss().then(() => {\n        self._setIonItemHasFocus(false);\n        self.hideAddItemTemplate();\n        resolve();\n      });\n    });\n  }\n\n  /**\n   * Clears value.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#clear).\n   *\n   * @memberof IonicSelectableComponent\n   */\n  clear() {\n    this.value = this.isMultiple ? [] : null;\n    this._itemsToConfirm = [];\n    this.propagateOnChange(this.value);\n  }\n\n  /**\n   * Confirms selected items by updating value.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#confirm).\n   *\n   * @memberof IonicSelectableComponent\n   */\n  confirm() {\n    if (this.isMultiple) {\n      this._doSelect(this._selectedItems);\n    } else if (this.hasConfirmButton || this.footerTemplate) {\n      this._doSelect(this._selectedItems[0] || null);\n    }\n  }\n\n  /**\n   * Selects or deselects all or specific items.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#toggleitems).\n   *\n   * @param isSelect Determines whether to select or deselect items.\n   * @param [items] Items to toggle. If items are not set all items will be toggled.\n   * @memberof IonicSelectableComponent\n   */\n  toggleItems(isSelect: boolean, items?: any[]) {\n    if (isSelect) {\n      const hasItems = items && items.length;\n      let itemsToToggle = this._groups.reduce((allItems, group) => {\n        return allItems.concat(group.items);\n      }, []);\n\n      // Don't allow to select all items in single mode.\n      if (!this.isMultiple && !hasItems) {\n        itemsToToggle = [];\n      }\n\n      // Toggle specific items.\n      if (hasItems) {\n        itemsToToggle = itemsToToggle.filter(itemToToggle => {\n          return items.find(item => {\n            return this._getItemValue(itemToToggle) === this._getItemValue(item);\n          }) !== undefined;\n        });\n\n        // Take the first item for single mode.\n        if (!this.isMultiple) {\n          itemsToToggle.splice(0, 1);\n        }\n      }\n\n      itemsToToggle.forEach(item => {\n        this._addSelectedItem(item);\n      });\n    } else {\n      this._selectedItems = [];\n    }\n\n    this._setItemsToConfirm(this._selectedItems);\n  }\n\n  /**\n   * Scrolls to the top of Modal content.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#scrolltotop).\n   *\n   * @returns Promise that resolves when scroll has been completed.\n   * @memberof IonicSelectableComponent\n   */\n  scrollToTop(): Promise<any> {\n    const self = this;\n\n    return new Promise(function (resolve, reject) {\n      if (!self._isOpened) {\n        reject('IonicSelectable content cannot be scrolled.');\n        return;\n      }\n\n      self._modalComponent._content.scrollToTop().then(() => {\n        resolve();\n      });\n    });\n  }\n\n  /**\n   * Scrolls to the bottom of Modal content.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#scrolltobottom).\n   *\n   * @returns Promise that resolves when scroll has been completed.\n   * @memberof IonicSelectableComponent\n   */\n  scrollToBottom(): Promise<any> {\n    const self = this;\n\n    return new Promise(function (resolve, reject) {\n      if (!self._isOpened) {\n        reject('IonicSelectable content cannot be scrolled.');\n        return;\n      }\n\n      self._modalComponent._content.scrollToBottom().then(() => {\n        resolve();\n      });\n    });\n  }\n\n  /**\n   * Starts search process by showing Loading spinner.\n   * Use it together with `onSearch` event to indicate search start.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#startsearch).\n   *\n   * @memberof IonicSelectableComponent\n   */\n  startSearch() {\n    if (!this._isEnabled) {\n      return;\n    }\n\n    this.showLoading();\n  }\n\n  /**\n   * Ends search process by hiding Loading spinner and refreshing items.\n   * Use it together with `onSearch` event to indicate search end.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#endsearch).\n   *\n   * @memberof IonicSelectableComponent\n   */\n  endSearch() {\n    if (!this._isEnabled) {\n      return;\n    }\n\n    this.hideLoading();\n\n    // When inside Ionic Modal and onSearch event is used,\n    // ngDoCheck() doesn't work as _itemsDiffer fails to detect changes.\n    // See https://github.com/eakoriakin/ionic-selectable/issues/44.\n    // Refresh items manually.\n    this._setItems(this.items);\n    this._emitOnSearchSuccessOrFail(this._hasFilteredItems);\n  }\n\n  /**\n   * Enables infinite scroll.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#enableinfinitescroll).\n   *\n   * @memberof IonicSelectableComponent\n   */\n  enableInfiniteScroll() {\n    if (!this._hasInfiniteScroll) {\n      return;\n    }\n\n    this._modalComponent._infiniteScroll.disabled = false;\n  }\n\n  /**\n   * Disables infinite scroll.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#disableinfinitescroll).\n   *\n   * @memberof IonicSelectableComponent\n   */\n  disableInfiniteScroll() {\n    if (!this._hasInfiniteScroll) {\n      return;\n    }\n\n    this._modalComponent._infiniteScroll.disabled = true;\n  }\n\n  /**\n   * Ends infinite scroll.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#endinfinitescroll).\n   *\n   * @memberof IonicSelectableComponent\n   */\n  endInfiniteScroll() {\n    if (!this._hasInfiniteScroll) {\n      return;\n    }\n\n    this._modalComponent._infiniteScroll.complete();\n    this._setItems(this.items);\n  }\n\n  /**\n   * Triggers search of items.\n   * **Note**: `canSearch` has to be enabled.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#search).\n   *\n   * @param text Text to search items by.\n   * @memberof IonicSelectableComponent\n   */\n  search(text: string) {\n    if (!this._isEnabled || !this._isOpened || !this.canSearch) {\n      return;\n    }\n\n    this._searchText = text;\n    this._setHasSearchText();\n    this._filterItems();\n  }\n\n  /**\n   * Shows Loading spinner.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#showloading).\n   *\n   * @memberof IonicSelectableComponent\n   */\n  showLoading() {\n    if (!this._isEnabled) {\n      return;\n    }\n\n    this._isSearching = true;\n  }\n\n  /**\n   * Hides Loading spinner.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#hideloading).\n   *\n   * @memberof IonicSelectableComponent\n   */\n  hideLoading() {\n    if (!this._isEnabled) {\n      return;\n    }\n\n    this._isSearching = false;\n  }\n\n  /**\n   * Shows `ionicSelectableAddItemTemplate`.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#showadditemtemplate).\n   *\n   * @memberof IonicSelectableComponent\n   */\n  showAddItemTemplate() {\n    this._toggleAddItemTemplate(true);\n\n    // Position the template only when it shous up.\n    this._positionAddItemTemplate();\n  }\n\n  /**\n   * Hides `ionicSelectableAddItemTemplate`.\n   * See more on [GitHub](https://github.com/eakoriakin/ionic-selectable/wiki/Documentation#hideadditemtemplate).\n   *\n   * @memberof IonicSelectableComponent\n   */\n  hideAddItemTemplate() {\n    // Clean item to add as it's no longer needed once Add Item Modal has been closed.\n    this._itemToAdd = null;\n    this._toggleAddItemTemplate(false);\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { IonicModule } from '@ionic/angular';\nimport { IonicSelectableAddItemTemplateDirective } from './ionic-selectable-add-item-template.directive';\nimport { IonicSelectableCloseButtonTemplateDirective } from './ionic-selectable-close-button-template.directive';\nimport { IonicSelectableFooterTemplateDirective } from './ionic-selectable-footer-template.directive';\nimport { IonicSelectableGroupEndTemplateDirective } from './ionic-selectable-group-end-template.directive';\nimport { IonicSelectableGroupTemplateDirective } from './ionic-selectable-group-template.directive';\nimport { IonicSelectableHeaderTemplateDirective } from './ionic-selectable-header-template.directive';\nimport { IonicSelectableItemEndTemplateDirective } from './ionic-selectable-item-end-template.directive';\nimport { IonicSelectableItemIconTemplateDirective } from './ionic-selectable-item-icon-template.directive';\nimport { IonicSelectableItemTemplateDirective } from './ionic-selectable-item-template.directive';\nimport { IonicSelectableMessageTemplateDirective } from './ionic-selectable-message-template.directive';\nimport { IonicSelectableModalComponent } from './ionic-selectable-modal.component';\nimport { IonicSelectablePlaceholderTemplateDirective } from './ionic-selectable-placeholder-template.directive';\nimport { IonicSelectableSearchFailTemplateDirective } from './ionic-selectable-search-fail-template.directive';\nimport { IonicSelectableTitleTemplateDirective } from './ionic-selectable-title-template.directive';\nimport { IonicSelectableValueTemplateDirective } from './ionic-selectable-value-template.directive';\nimport { IonicSelectableIconTemplateDirective } from './ionic-selectable-icon-template.directive';\nimport { IonicSelectableComponent } from './ionic-selectable.component';\nexport { IonicSelectableAddItemTemplateDirective } from './ionic-selectable-add-item-template.directive';\nexport { IonicSelectableCloseButtonTemplateDirective } from './ionic-selectable-close-button-template.directive';\nexport { IonicSelectableFooterTemplateDirective } from './ionic-selectable-footer-template.directive';\nexport { IonicSelectableGroupEndTemplateDirective } from './ionic-selectable-group-end-template.directive';\nexport { IonicSelectableGroupTemplateDirective } from './ionic-selectable-group-template.directive';\nexport { IonicSelectableHeaderTemplateDirective } from './ionic-selectable-header-template.directive';\nexport { IonicSelectableItemEndTemplateDirective } from './ionic-selectable-item-end-template.directive';\nexport { IonicSelectableItemIconTemplateDirective } from './ionic-selectable-item-icon-template.directive';\nexport { IonicSelectableItemTemplateDirective } from './ionic-selectable-item-template.directive';\nexport { IonicSelectableMessageTemplateDirective } from './ionic-selectable-message-template.directive';\nexport { IonicSelectableModalComponent } from './ionic-selectable-modal.component';\nexport { IonicSelectablePlaceholderTemplateDirective } from './ionic-selectable-placeholder-template.directive';\nexport { IonicSelectableSearchFailTemplateDirective } from './ionic-selectable-search-fail-template.directive';\nexport { IonicSelectableTitleTemplateDirective } from './ionic-selectable-title-template.directive';\nexport { IonicSelectableValueTemplateDirective } from './ionic-selectable-value-template.directive';\nexport { IonicSelectableIconTemplateDirective } from './ionic-selectable-icon-template.directive';\nexport { IonicSelectableComponent } from './ionic-selectable.component';\n\nconst components = [IonicSelectableComponent, IonicSelectableModalComponent],\n  directives = [\n    IonicSelectableValueTemplateDirective,\n    IonicSelectableItemTemplateDirective,\n    IonicSelectableItemEndTemplateDirective,\n    IonicSelectableTitleTemplateDirective,\n    IonicSelectablePlaceholderTemplateDirective,\n    IonicSelectableMessageTemplateDirective,\n    IonicSelectableGroupTemplateDirective,\n    IonicSelectableGroupEndTemplateDirective,\n    IonicSelectableCloseButtonTemplateDirective,\n    IonicSelectableSearchFailTemplateDirective,\n    IonicSelectableAddItemTemplateDirective,\n    IonicSelectableFooterTemplateDirective,\n    IonicSelectableHeaderTemplateDirective,\n    IonicSelectableItemIconTemplateDirective,\n    IonicSelectableIconTemplateDirective\n  ];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule\n  ],\n  declarations: [\n    ...components,\n    ...directives\n  ],\n  exports: [\n    ...components,\n    ...directives\n  ],\n  entryComponents: components\n})\nexport class IonicSelectableModule { }\n"]}